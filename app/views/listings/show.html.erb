<!-- <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner" role="listbox">
    <div class="carousel-item active">
      <%= image_tag @listing.listingphotos.first.photo.url, class:"d-block img-fluid", alt:"First slide" %>
    </div>
    <div class="carousel-item">
      <%= image_tag @listing.listingphotos.second.photo.url, class:"d-block img-fluid", alt:"First slide" %>
    </div>
    <div class="carousel-item">
      <%= image_tag @listing.listingphotos.third.photo.url, class:"d-block img-fluid", alt:"First slide" %>
    </div>
    <div class="carousel-item">
      <%= image_tag @listing.listingphotos[3].photo.url, class:"d-block img-fluid", alt:"First slide" %>
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div> -->

<div class="owl-carousel">
  <div>
    <%= image_tag @listing.listingphotos.first.photo.url, alt:"First slide" %>
  </div>
  <div>
    <%= image_tag @listing.listingphotos.second.photo.url, alt:"Second slide" %>
  </div>
  <div>
    <%= image_tag @listing.listingphotos.third.photo.url, alt:"Third slide" %>
  </div>
  <div>
    <%= image_tag @listing.listingphotos[3].photo.url, alt:"Fourth slide" %>
  </div>
</div>

<!-- <p id="notice"><%= notice %></p>
<% if @listing == current_user.listing %>
  <p>
    <%= link_to "Edit Your Listing", edit_listing_path %>
  </p>
<% end %>
<p>
  <strong>User:</strong>
  <%= User.find(@listing.user_id).name %>
</p>

<p>
  <strong>Address:</strong>
  <%= @listing.address%>, <%= '#'+@listing.apt_number unless @listing.apt_number == nil%> <%= @listing.city%>, <%= @listing.state%>, <%= @listing.zipcode %>
</p>

<p>
  <strong>Rent:</strong>
  <%= @listing.rent %>
</p>

<p>
  <strong>Amenities:</strong>
  <%= @listing.amenities %>
</p>

<p>
  <strong>Rules:</strong>
</p>

<p>
  <strong>Apartment Photos:</strong> <br>
  <% @listing.listingphotos.each do |image| %>
  <div class="listing_preview col-md-3">
    <%= link_to(image_tag(image.photo.url(:medium)), image) %>
  </div>
  <% end %>
</p>

<p>
  <strong>Description:</strong>
  <%= @listing.description %>
</p> -->


<div id="map"></div>

<script>
  window.addresses = [];
  window.addresses.push("<%= [@listing.address, @listing.city, @listing.state, @listing.zipcode].join(",") %>");
</script>
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDPW_yVez7lt-3QKXCXk97t43Q2TdZkQZQ&libraries=places&callback=initMap"
    async defer></script>

<% if @listing == current_user.listing %>
  <%= link_to 'Edit Your Apartment', edit_listing_path(@listing) %>
  <% if current_user.listing.listingphotos == nil %>
    | <%= link_to 'Add Photos to Your Apartment', new_listingphoto_path %>
  <% elsif current_user.listing.listingphotos.size > 0 && current_user.listing.listingphotos.size < 12 %>
    | <%= link_to 'Add Photos to Your Apartment', new_listingphoto_path %>
    | <%= link_to 'Edit Your Apartment Photos', listingphoto_path %>
  <% else %>
    | <%= link_to 'Edit Your Apartment Photos', listingphoto_path %>
  <% end %>
<% end %>
